---
import { isAuthenticated } from '../lib/services/authService';

// Si está autenticado, redirigir al dashboard
const token = Astro.cookies.get('sb-access-token')?.value;
const authenticated = await isAuthenticated(token);
if (authenticated) {
  return Astro.redirect('/dashboard');
}

// Si no está autenticado, redirigir al login
return Astro.redirect('/login');
---
